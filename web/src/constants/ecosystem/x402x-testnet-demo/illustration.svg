<?xml version="1.0" encoding="UTF-8"?>
<!-- x402x Protocol Demo – Flow Illustration
     Payment → Hook/Router → Contract (+ Mint). Minimal, legible, brand gradient. -->
<svg width="480" height="240" viewBox="0 0 480 240" fill="none" xmlns="http://www.w3.org/2000/svg">
  <title>x402x Protocol Demo Flow</title>
  <desc>Visualizing an atomic payment routed via a hook/settlement router to a smart contract, minting a token/NFT, in x402x brand colors.</desc>

  <defs>
    <linearGradient id="g" x1="40" y1="40" x2="440" y2="200" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#22D3EE"/>
      <stop offset="1" stop-color="#A855F7"/>
    </linearGradient>
    <linearGradient id="frame" x1="0" y1="0" x2="480" y2="240" gradientUnits="userSpaceOnUse">
      <stop offset="0" stop-color="#22D3EE" stop-opacity="0.35"/>
      <stop offset="1" stop-color="#A855F7" stop-opacity="0.25"/>
    </linearGradient>
  </defs>

  <!-- Stage background -->
  <rect x="1" y="1" width="478" height="238" rx="20" fill="#0B0B0F" stroke="url(#frame)"/>

  <!-- Subtle grid for depth -->
  <g opacity="0.11" stroke="#8B5CF6">
    <path d="M40 60 H440"/>
    <path d="M40 100 H440"/>
    <path d="M40 140 H440"/>
    <path d="M40 180 H440"/>
  </g>

  <!-- Payment card (left) -->
  <g>
    <rect x="48" y="84" width="120" height="72" rx="14" fill="#0F172A" stroke="#1F2937"/>
    <!-- coin -->
    <circle cx="74" cy="120" r="16" fill="#0B0B0F" stroke="url(#g)"/>
    <path d="M68 120h12m-6 -6v12" stroke="#22D3EE" stroke-width="2" stroke-linecap="round"/>
    <!-- label bars -->
    <rect x="98" y="104" width="56" height="10" rx="5" fill="#1E293B"/>
    <rect x="98" y="122" width="72" height="8" rx="4" fill="#312E81"/>
  </g>

  <!-- Hook/Router node (center) -->
  <g>
    <circle cx="240" cy="120" r="30" fill="#0F172A" stroke="url(#g)" stroke-width="2"/>
    <circle cx="240" cy="120" r="16" fill="#0B0B0F" stroke="url(#g)" stroke-width="2"/>
    <!-- small hook motif -->
    <path d="M232 116 q8 -10 16 0 q6 8 -4 14" stroke="#22D3EE" stroke-width="2" fill="none" stroke-linecap="round"/>
  </g>

  <!-- Smart contract card (right) -->
  <g>
    <rect x="320" y="76" width="104" height="96" rx="12" fill="#0F172A" stroke="#1F2937"/>
    <!-- code glyph -->
    <path d="M340 116 L352 104 M340 124 L352 136" stroke="#22D3EE" stroke-width="2" stroke-linecap="round"/>
    <path d="M392 104 L404 116 M392 136 L404 124" stroke="#A855F7" stroke-width="2" stroke-linecap="round"/>
    <rect x="356" y="112" width="52" height="8" rx="4" fill="#1E293B"/>
    <rect x="356" y="128" width="40" height="6" rx="3" fill="#312E81"/>
  </g>

  <!-- Minted token (top-right) -->
  <g>
    <circle cx="420" cy="64" r="18" fill="#0B0B0F" stroke="url(#g)"/>
    <path d="M414 64h12m-6 -6v12" stroke="#A855F7" stroke-width="2" stroke-linecap="round"/>
  </g>

  <!-- Flow arrows -->
  <g stroke="url(#g)" stroke-width="3" stroke-linecap="round" fill="none">
    <!-- payment -> router -->
    <path d="M168 120 H208"/>
    <path d="M208 120 l-6 -4 v8 z" fill="url(#g)"/>
    <!-- router -> contract -->
    <path d="M270 120 H316"/>
    <path d="M316 120 l-6 -4 v8 z" fill="url(#g)"/>
    <!-- router -> mint (diagonal) -->
    <path d="M258 106 L402 74"/>
    <path d="M402 74 l-7 -1.5 l2.5 7 z" fill="url(#g)"/>
  </g>
</svg>
